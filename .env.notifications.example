# ===========================================
# CONFIGURATION NOTIFICATIONS PUSH
# ===========================================

# Firebase Cloud Messaging (FCM)
# Option 1: JSON complet dans une variable d'environnement
FIREBASE_SERVICE_ACCOUNT='{"type":"service_account","project_id":"your-firebase-project","private_key_id":"key-id","private_key":"-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY\n-----END PRIVATE KEY-----\n","client_email":"firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com","client_id":"123456789","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-xxxxx%40your-project.iam.gserviceaccount.com"}'

# Option 2: Chemin vers le fichier de configuration Firebase
# FIREBASE_SERVICE_ACCOUNT_PATH=./config/firebase-service-account.json

# Option 3: Variables d'environnement séparées
# FIREBASE_PROJECT_ID=your-firebase-project-id
# FIREBASE_PRIVATE_KEY_ID=your-private-key-id
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY\n-----END PRIVATE KEY-----\n"
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@your-project.iam.gserviceaccount.com
# FIREBASE_CLIENT_ID=123456789

# OneSignal (Alternative ou complément à Firebase)
ONESIGNAL_APP_ID=your-onesignal-app-id
ONESIGNAL_REST_API_KEY=your-onesignal-rest-api-key

# Configuration des notifications
NOTIFICATIONS_ENABLED=true
NOTIFICATIONS_DEFAULT_SOUND=default
NOTIFICATIONS_DEFAULT_ICON=/icons/notification-icon.png
NOTIFICATIONS_DEFAULT_BADGE=/icons/badge-icon.png

# Configuration batch processing
NOTIFICATIONS_BATCH_SIZE=1000
NOTIFICATIONS_RETRY_ATTEMPTS=3
NOTIFICATIONS_RETRY_DELAY=5000

# Job scheduling (pour les notifications planifiées)
# REDIS_URL=redis://localhost:6379
# BULL_QUEUE_NAME=notifications

# ===========================================
# EXEMPLE DE CONFIGURATION COMPLÈTE
# ===========================================

# Pour AfrikMode en développement:
# FIREBASE_PROJECT_ID=afrikmode-dev
# FIREBASE_CLIENT_EMAIL=firebase-adminsdk-abc123@afrikmode-dev.iam.gserviceaccount.com
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n[VOTRE_CLE_PRIVEE_ICI]\n-----END PRIVATE KEY-----\n"

# ONESIGNAL_APP_ID=12345678-1234-1234-1234-123456789012
# ONESIGNAL_REST_API_KEY=YOUR_ONESIGNAL_REST_API_KEY_HERE

# ===========================================
# NOTES IMPORTANTES
# ===========================================

# 1. Pour Firebase:
#    - Créez un projet sur https://console.firebase.google.com
#    - Allez dans "Paramètres du projet" > "Comptes de service"
#    - Générez une nouvelle clé privée et téléchargez le fichier JSON
#    - Copiez le contenu dans FIREBASE_SERVICE_ACCOUNT ou utilisez le chemin du fichier

# 2. Pour OneSignal:
#    - Créez un compte sur https://onesignal.com
#    - Créez une nouvelle app et configurez les plateformes (Android, iOS, Web)
#    - Récupérez l'App ID et la REST API Key dans les paramètres

# 3. Variables obligatoires pour les notifications:
#    - Au minimum Firebase OU OneSignal configuré
#    - NOTIFICATIONS_ENABLED=true pour activer les notifications

# 4. Tests:
#    - Utilisez l'endpoint /api/notifications/test pour tester la configuration
#    - Vérifiez les logs pour détecter les erreurs de configuration

# 5. Production:
#    - Utilisez des secrets sécurisés pour les clés API
#    - Activez HTTPS obligatoire
#    - Configurez les domaines autorisés pour les Web Push